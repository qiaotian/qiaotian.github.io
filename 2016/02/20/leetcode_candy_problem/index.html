<!DOCTYPE html>
<html>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="The candy problem supposes that there are N children standing in a line and each child is assigned a rating value (integer type). You are giving candies to these children subjected to the following re">
<meta name="keywords" content="CANDY LEETCODE">
<meta property="og:type" content="article">
<meta property="og:title" content="Candy Problem">
<meta property="og:url" content="http://qiaotian.me/2016/02/20/leetcode_candy_problem/index.html">
<meta property="og:site_name" content="FOR DAISY">
<meta property="og:description" content="The candy problem supposes that there are N children standing in a line and each child is assigned a rating value (integer type). You are giving candies to these children subjected to the following re">
<meta property="og:updated_time" content="2017-07-31T17:40:49.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Candy Problem">
<meta name="twitter:description" content="The candy problem supposes that there are N children standing in a line and each child is assigned a rating value (integer type). You are giving candies to these children subjected to the following re">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>Candy Problem</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- rss -->
    
    
</head>

<body>
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="http://github.com/probberechts">Projects</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2016/02/25/leetcode_single_number/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li>
        
        
        <li><a class="icon" href="/2015/02/18/leetcode_delete_element_in_unordered_set/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li>
        <li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://qiaotian.me/2016/02/20/leetcode_candy_problem/"><i class="fa fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://qiaotian.me/2016/02/20/leetcode_candy_problem/&text=Candy Problem"><i class="fa fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://qiaotian.me/2016/02/20/leetcode_candy_problem/&title=Candy Problem"><i class="fa fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://qiaotian.me/2016/02/20/leetcode_candy_problem/&is_video=false&description=Candy Problem"><i class="fa fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Candy Problem&body=Check out this article: http://qiaotian.me/2016/02/20/leetcode_candy_problem/"><i class="fa fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://qiaotian.me/2016/02/20/leetcode_candy_problem/&title=Candy Problem"><i class="fa fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://qiaotian.me/2016/02/20/leetcode_candy_problem/&title=Candy Problem"><i class="fa fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://qiaotian.me/2016/02/20/leetcode_candy_problem/&title=Candy Problem"><i class="fa fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://qiaotian.me/2016/02/20/leetcode_candy_problem/&title=Candy Problem"><i class="fa fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://qiaotian.me/2016/02/20/leetcode_candy_problem/&name=Candy Problem&description="><i class="fa fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Think-about-it"><span class="toc-number">1.</span> <span class="toc-text">Think about it</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#The-trap-of-it"><span class="toc-number">2.</span> <span class="toc-text">The trap of it</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Rethink-about-it"><span class="toc-number">3.</span> <span class="toc-text">Rethink about it</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index width mx-auto px2 my4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        Candy Problem
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">FOR DAISY</span>
      </span>
      
    <div class="postdate">
        <time datetime="2016-02-19T16:00:00.000Z" itemprop="datePublished">2016-02-20</time>
    </div>


      
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/CANDY-LEETCODE/">CANDY LEETCODE</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p>The <a href="https://leetcode.com/problems/candy/" target="_blank" rel="external">candy problem</a> supposes that there are N children standing in a line and each child is assigned a rating value (integer type). You are giving candies to these children subjected to the following requirements:</p>
<ol>
<li>Each child must have at least one candy.</li>
<li>Children with a higher rating get more candies than their neighbors.</li>
</ol>
<p>What is the minimum candies you must give?</p>
<h2 id="Think-about-it"><a href="#Think-about-it" class="headerlink" title="Think about it"></a>Think about it</h2><p>The first instinct is</p>
<ol>
<li>Traversing all children from left to right to find the first local minimum rating value.    </li>
<li>Going backwards to give values in ascending order until find the descending rating value. Then going forwords to gives values in ascending order as well until find the descending one.</li>
<li>Repeat 1 to 2 until all children visited.</li>
</ol>
<p>The worse case is that the entire rating array is in descending order, when the time complexity is O(N^2).</p>
<h2 id="The-trap-of-it"><a href="#The-trap-of-it" class="headerlink" title="The trap of it"></a>The trap of it</h2><p>In the algorithm above, lots of cases should be considered, where the equal neighbours, for example, is a big trouble maker. Debugging the algorithm is really hard when the amount of test cases is really large. Therefore, a more elegant and concise solution should be raised.</p>
<h2 id="Rethink-about-it"><a href="#Rethink-about-it" class="headerlink" title="Rethink about it"></a>Rethink about it</h2><p>The idea to solve this problem is to divide the entire process into two subprocedures, one is for ascending order processing and the other is for the descending order. The following implementation is quoted from <a href="https://leetcode.com/discuss/16463/a-simple-solution" target="_blank" rel="external">LeetCode Discuss</a>.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">candy</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; ratings)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> size = ratings.size();</div><div class="line">        <span class="keyword">if</span>(size &lt;= <span class="number">1</span>) <span class="keyword">return</span> size;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; num(size, <span class="number">1</span>);</div><div class="line">        <span class="comment">// forward</span></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; size; i++)</div><div class="line">        &#123;</div><div class="line">            <span class="keyword">if</span>(ratings[i] &gt; ratings[i<span class="number">-1</span>]) num[i] = num[i<span class="number">-1</span>] + <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// backward</span></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = size<span class="number">-1</span>; i &gt; <span class="number">0</span> ; i--)</div><div class="line">        &#123;</div><div class="line">            <span class="keyword">if</span>(ratings[i<span class="number">-1</span>] &gt; ratings[i]) num[i<span class="number">-1</span>] = max(num[i] + <span class="number">1</span>, num[i<span class="number">-1</span>]);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i : num) sum += i;</div><div class="line">        <span class="keyword">return</span> sum;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>

  </div>
</article>



    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="http://github.com/probberechts">Projects</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Think-about-it"><span class="toc-number">1.</span> <span class="toc-text">Think about it</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#The-trap-of-it"><span class="toc-number">2.</span> <span class="toc-text">The trap of it</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Rethink-about-it"><span class="toc-number">3.</span> <span class="toc-text">Rethink about it</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://qiaotian.me/2016/02/20/leetcode_candy_problem/"><i class="fa fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://qiaotian.me/2016/02/20/leetcode_candy_problem/&text=Candy Problem"><i class="fa fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://qiaotian.me/2016/02/20/leetcode_candy_problem/&title=Candy Problem"><i class="fa fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://qiaotian.me/2016/02/20/leetcode_candy_problem/&is_video=false&description=Candy Problem"><i class="fa fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Candy Problem&body=Check out this article: http://qiaotian.me/2016/02/20/leetcode_candy_problem/"><i class="fa fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://qiaotian.me/2016/02/20/leetcode_candy_problem/&title=Candy Problem"><i class="fa fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://qiaotian.me/2016/02/20/leetcode_candy_problem/&title=Candy Problem"><i class="fa fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://qiaotian.me/2016/02/20/leetcode_candy_problem/&title=Candy Problem"><i class="fa fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://qiaotian.me/2016/02/20/leetcode_candy_problem/&title=Candy Problem"><i class="fa fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://qiaotian.me/2016/02/20/leetcode_candy_problem/&name=Candy Problem&description="><i class="fa fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
      <ul>
        <li id="toc"><a class="icon" href="#" onclick='$("#toc-footer").toggle();return false;'><i class="fa fa-list fa-lg" aria-hidden="true"></i> TOC</a></li>
        <li id="share"><a class="icon" href="#" onclick='$("#share-footer").toggle();return false;'><i class="fa fa-share-alt fa-lg" aria-hidden="true"></i> Share</a></li>
        <li id="top" style="display:none"><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a></li>
        <li id="menu"><a class="icon" href="#" onclick='$("#nav-footer").toggle();return false;'><i class="fa fa-bars fa-lg" aria-hidden="true"></i> Menu</a></li>
      </ul>
    </div>

  </div>
</div>

    
    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2017 T Qiao
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="http://github.com/probberechts">Projects</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

</body>
</html>
<!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" href="/lib/meslo-LG/styles.css">
<link rel="stylesheet" href="/lib/justified-gallery/justifiedGallery.min.css">


<!-- jquery -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/justified-gallery/jquery.justifiedGallery.min.js"></script>
<script src="/js/main.js"></script>
<!-- Google Analytics -->

    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-86660611-1', 'auto');
        ga('send', 'pageview');
    </script>

<!-- Disqus Comments -->


